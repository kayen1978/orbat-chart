(function(t){function e(e){for(var i,o,s=e[0],l=e[1],c=e[2],u=0,h=[];u<s.length;u++)o=s[u],r[o]&&h.push(r[o][0]),r[o]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i]);d&&d(e);while(h.length)h.shift()();return a.push.apply(a,c||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],i=!0,o=1;o<n.length;o++){var l=n[o];0!==r[l]&&(i=!1)}i&&(a.splice(e--,1),t=s(s.s=n[0]))}return t}var i={},r={app:0},a=[];function o(t){return s.p+"js/"+({about:"about"}[t]||t)+"."+{about:"d4a2497d"}[t]+".js"}function s(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(t){var e=[],n=r[t];if(0!==n)if(n)e.push(n[2]);else{var i=new Promise(function(e,i){n=r[t]=[e,i]});e.push(n[2]=i);var a,l=document.getElementsByTagName("head")[0],c=document.createElement("script");c.charset="utf-8",c.timeout=120,s.nc&&c.setAttribute("nonce",s.nc),c.src=o(t),a=function(e){c.onerror=c.onload=null,clearTimeout(u);var n=r[t];if(0!==n){if(n){var i=e&&("load"===e.type?"missing":e.type),a=e&&e.target&&e.target.src,o=new Error("Loading chunk "+t+" failed.\n("+i+": "+a+")");o.type=i,o.request=a,n[1](o)}r[t]=void 0}};var u=setTimeout(function(){a({type:"timeout",target:c})},12e4);c.onerror=c.onload=a,l.appendChild(c)}return Promise.all(e)},s.m=t,s.c=i,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)s.d(n,i,function(e){return t[e]}.bind(null,i));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/",s.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],c=l.push.bind(l);l.push=e,l=l.slice();for(var u=0;u<l.length;u++)e(l[u]);var d=c;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("cd49")},"009f":function(t,e,n){"use strict";var i=n("d00e"),r=n.n(i);r.a},"034f":function(t,e,n){"use strict";var i=n("c21b"),r=n.n(i);r.a},"2b07":function(t,e,n){},"3a62":function(t,e,n){},"96fc":function(t,e,n){},b491:function(t,e,n){"use strict";var i=n("2b07"),r=n.n(i);r.a},bd54:function(t,e,n){"use strict";var i=n("96fc"),r=n.n(i);r.a},c21b:function(t,e,n){},cd49:function(t,e,n){"use strict";n.r(e);var i=n("2b0e"),r=n("ce5b"),a=n.n(r),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",{attrs:{id:"app"}},[n("v-navigation-drawer",{staticClass:"mdrawer",attrs:{temporary:"",app:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[n("v-list",{attrs:{dense:""}},[n("v-toolbar",{staticClass:"transparent",attrs:{prominent:"",flat:""}},[n("v-toolbar-title",[t._v("ORBAT Chart Builder")])],1)],1)],1),n("v-content",[n("v-container",{staticClass:"py-0 px-0 mx-0 my-0",attrs:{fluid:"","fill-height":""}},[n("v-layout",[n("v-flex",{staticClass:"sidebar",staticStyle:{"z-index":"4"}},[n("v-toolbar-side-icon",{attrs:{dark:""},on:{click:function(e){e.stopPropagation(),t.drawer=!t.drawer}}})],1),n("v-flex",[n("router-view")],1)],1)],1)],1)],1)},s=[],l={components:{},data:()=>({drawer:null})},c=l,u=(n("034f"),n("2877")),d=Object(u["a"])(c,o,s,!1,null,null,null);d.options.__file="App.vue";var h=d.exports,p=n("8c4f"),f=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-layout",{attrs:{"fill-height":""}},[n("v-flex",{staticClass:"panel",staticStyle:{"z-index":"3"}},[n("slide-panel",{attrs:{"header-title":"ORBAT"},on:{onSlide:t.onSlide},model:{value:t.orbatPanel,callback:function(e){t.orbatPanel=e},expression:"orbatPanel"}},[n("v-treeview",{attrs:{items:t.tree,"open-on-click":"","open-all":"",activatable:"","item-children":"subUnits"},scopedSlots:t._u([{key:"prepend",fn:function(t){var e=t.item;t.open,t.leaf;return[n("mil-symbol",{attrs:{sidc:e.sidc}})]}}])})],1)],1),n("v-flex",[n("orbat-chart",{staticClass:"px-0 py-0 home",attrs:{unit:t.orbat},on:{unitclick:t.onUnitClick}})],1)],1)},v=[],b=n("9ab4"),m=n("60a3"),g=(n("0dc2"),n("5a26")),y=n("4308");function x(t,e){let n=0;function i(t,r){if(e(t,n,r),t.subUnits){n+=1;for(const e of t.subUnits)i(e,t);n-=1}}i(t,null)}const w="\n.o-line {\n  stroke: black;\n  stroke-width: 1pt;\n  fill:none;\n}\n\n.o-label {\n  text-anchor: middle;\n}\n\n.o-unit:hover {\n  font-weight: bold;\n}\n",S={symbolSize:32,maxLevels:0,debug:!1,connectorOffset:5};function _(t,e){const n=new g["Symbol"](t.sidc,{size:e.symbolSize}),i=n.getSize(),r=n.getAnchor(),a=n.getOctagonAnchor();return{size:i,anchor:r,octagonAnchor:a,symb:n,x:null,y:null,parent:null,node:t}}function k(t,e,n,i){const r=n-e.octagonAnchor.x,a=i-e.octagonAnchor.y;return t.attr("transform",`translate(${r}, ${a})`)}function O(t,e,n){const i=t.append("g").attr("class","o-unit");let r=i.append("rect").classed("o-rect",!0);i.append("g").html(e.symb.asSVG());i.append("text").attr("x",e.octagonAnchor.x).attr("dy","1.1em").attr("y",e.size.height).attr("class","o-label").text(e.node.name);const a=i.node().getBBox();return n.debug&&(r=r.attr("x",a.x).attr("y",a.y).attr("width",a.width).attr("height",a.height).style("fill","#ccc").style("fill-opacity",".3").style("stroke","#666").style("stroke-width","1.5px")),i}class C{constructor(t,e={}){this.rootNode=t,this.levels=[],this.options=Object.assign({},S,e),t&&this._computeOrbatInfo(t)}cleanup(){if(this.svg){let t=this.svg.selectAll("g.o-unit");t.on("click",null)}}toSVG(t,e){this.width=t.width||600,this.height=t.height||600,e.innerHTML="";const n=Object(y["a"])(e),i=n.append("svg");this.svg=i;let r=this.options;i.attr("viewBox",`0 0 ${this.width} ${this.height}`),i.append("style").text(w),i.attr("width","100%"),i.attr("height","100%");i.append("rect").attr("fill","none").attr("stroke","red").attr("y","0").attr("x","0").attr("width",this.width).attr("height",this.height);const a=this.levels.length;return this.levels.forEach((t,e)=>{if(r.maxLevels&&e>=r.maxLevels)return;let n=t.reduce((t,e)=>t.concat(e),[]);const o=n.length;let s=0;t.forEach((t,n)=>{t.forEach(t=>{const n=(s+1)*this.width/(o+1),l=this.height*((e+1)/(a+1));t.x=n,t.y=l;const c=O(i,t,this.options);r.onClick&&c.on("click",e=>{r.onClick(t)});const u=c.node().getBBox();if(t.ly=l+(u.height-t.octagonAnchor.y),k(c,t,n,l),t.parent){t.parent.x;const e=l-(l-t.parent.y)/2,a=`M ${n}, ${l-t.octagonAnchor.y-r.connectorOffset} V ${e}`;i.append("path").attr("d",a).classed("o-line",!0)}s+=1});let l=t[0];if(!l.parent)return;let c=l.parent,u=t[t.length-1];const d=l.y-(l.y-c.y)/2,h=`M ${c.x}, ${c.ly+r.connectorOffset} V ${d}`;i.append("path").attr("d",h).classed("o-line",!0);const p=`M ${l.x}, ${d} H ${u.x}`;i.append("path").attr("d",p).classed("o-line",!0)})}),i.node()}_computeOrbatInfo(t){let e=[];const n={};x(t,(t,i,r)=>{const a=_(t,this.options),o=e[i]||[];r&&(a.parent=n[r.id]),n[t.id]=a,o.push(a),e[i]=o}),e.forEach((t,n)=>{let i=t.reduce((t,e,n,i)=>{return 0===n?(t.push([e]),t):i[n-1].parent===e.parent?(t[t.length-1].push(e),t):(t.push([e]),t)},[]);e[n]=i}),this.levels=e}}var A,$,j=C,z=i["default"].extend({name:"OrbatChart",props:{unit:{type:Object,required:!0},levels:{type:Number,default:0},debug:{type:Boolean,default:!1},symbolSize:{type:Number,default:32}},data:()=>({resizeTimeout:null,width:600,height:600,isMounted:!1}),created(){},mounted(){this.isMounted=!0,this.width=this.$el.clientWidth,this.height=this.$el.clientHeight},destroyed(){this.orbchart&&this.orbchart.cleanup()},methods:{onResize(){clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(()=>{},200)},onClick(t){this.$emit("unitclick",t)}},render(t){this.orbchart&&this.orbchart.cleanup();let e=new j(this.unit,{maxLevels:this.levels,debug:this.debug,symbolSize:this.symbolSize,onClick:this.onClick});if(this.orbchart=e,this.isMounted){e.toSVG({width:1920,height:1080},this.$el)}return t("div",{attrs:{class:"orbat-chart"}})}}),M=z,T=(n("b491"),Object(u["a"])(M,A,$,!1,null,null,null));T.options.__file="OrbatChart.vue";var P=T.exports,B=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"spanel",class:{large:t.large}},[n("transition",{attrs:{name:"slide"},on:{"after-leave":t.afterLeave}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.isActive,expression:"isActive"}],staticClass:"slide"},[n("v-toolbar",{attrs:{dense:"",flat:""}},[t._t("header",[n("v-toolbar-title",[t._v(t._s(t.headerTitle))])]),n("v-spacer"),n("v-btn",{attrs:{flat:"",icon:""},on:{click:function(e){t.isActive=!1}}},[n("v-icon",[t._v("chevron_left")])],1)],2),n("div",{staticClass:"slide-content"},[t._t("default")],2)],1)])],1)},L=[],E={name:"slide-panel",data:()=>({isActive:!1}),beforeMount(){this.isActive=this.value},props:{value:{required:!1},headerTitle:String,large:Boolean},watch:{isActive(t){this.$emit("input",t)},value(t){this.isActive=t}},methods:{afterLeave(){this.$emit("onSlide")}}},V=E,U=(n("009f"),Object(u["a"])(V,B,L,!1,null,"7d55cf12",null));U.options.__file="SlidePanel.vue";var G,N,I=U.exports,q=n("d61f"),H=n.n(q),R=i["default"].extend({name:"MilSymbol",props:{sidc:String,size:{type:Number,default:15},modifiers:{type:Object}},render(t){let e=new H.a.Symbol(this.sidc,{size:this.size,simpleStatusModifier:!0},this.modifiers||{});return t("span",{attrs:{class:"milsymbol"},domProps:{innerHTML:e.asSVG()}})}}),J=R,W=Object(u["a"])(J,G,N,!1,null,null,null);W.options.__file="MilSymbol.vue";var F=W.exports,Y=n("cf68");const K=Y;let Z=class extends m["b"]{constructor(){super(...arguments),this.orbat=K,this.tree=[K],this.orbatPanel=!0}onSlide(){}onUnitClick(t){console.log("Clikked",t)}};Z=b["a"]([Object(m["a"])({components:{OrbatChart:P,SlidePanel:I,MilSymbol:F}})],Z);var D=Z,Q=D,X=(n("bd54"),Object(u["a"])(Q,f,v,!1,null,"0fdd4f6b",null));X.options.__file="MainView.vue";var tt=X.exports;i["default"].use(p["a"]);var et=new p["a"]({routes:[{path:"/",name:"mainView",component:tt},{path:"/about",name:"about",component:()=>n.e("about").then(n.bind(null,"f820"))}]}),nt=n("2f62");i["default"].use(nt["a"]);var it=new nt["a"].Store({state:{},mutations:{},actions:{}});n("bf40"),n("3a62");i["default"].config.productionTip=!1,i["default"].use(a.a),new i["default"]({router:et,store:it,render:t=>t(h)}).$mount("#app")},cf68:function(t){t.exports={name:"A Bde",sidc:"10031000181211004600",id:"sdsdfsdfsdf",subUnits:[{name:"Btn",sidc:"10031000161211004600",id:"u0xGEGuOLzIcIirsioK0h",subUnits:[{name:"A",sidc:"10031000151211004600",id:"IZI2tUkYvhmVxShmC8~n~"},{name:"B",sidc:"10031000151211004600",id:"bJewqRWgkcxt3Lt53sz_c"},{name:"C",sidc:"10031000151211004600",id:"1ytAWaNFpcrYFLuGetut1"}]}]}},d00e:function(t,e,n){}});
//# sourceMappingURL=app.5e6cbe99.js.map